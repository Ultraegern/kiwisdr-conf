"use strict";const t="/recorder/download/",e=["txt","png"];!async function(){try{let n=await async function(){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch files");return await e.json()}();if(!n||0===n.length)return void(document.getElementById("file-table").innerHTML="<tr><td colspan='4'>No files found.</td></tr>");n.sort((t,e)=>new Date(e.mtime).getTime()-new Date(t.mtime).getTime());const o=document.querySelector("#file-table tbody");n.forEach(n=>{if("file"!==n.type)return;const r=document.createElement("tr"),i=new Date(n.mtime).toLocaleString(void 0,{hour12:!1}),d=String(n.name),a=n.name.split(".").pop()?.toLowerCase()??"",c=e.includes(a)?`<a href="${t+encodeURIComponent(d)}" target="_blank"><button>View</button></a>`:"";var l;r.innerHTML=`\n                <td>${d}</td>\n                <td>${i}</td>\n                <td>${l=n.size,l<0?"Negative":0===l?"0 B":l<1e3?l.toFixed(0)+" B":l<1e6?(l/1e3).toFixed(1)+" kB":l<1e9?(l/1e6).toFixed(1)+" MB":(l/1e9).toFixed(1)+" GB"}</td>\n                <td>\n                    <div class="button-group">\n                    ${c}\n                    <a href="${t+encodeURIComponent(d)}" download><button>Download</button></a>\n                    </div>\n                </td>\n            `,o.appendChild(r)})}catch(t){console.error("Error loading file list:",t);const e=document.querySelector("#file-table tbody"),n=t instanceof Error?t.message:String(t);e&&(e.innerHTML=`<tr><td colspan="4">Error: ${n}</td></tr>`)}}();