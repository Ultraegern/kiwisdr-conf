"use strict";const t="/recorder/download/",e=["txt","png"];!async function(){try{const n=await fetch(t),o=await n.text(),r=(new DOMParser).parseFromString(o,"text/html").querySelector("pre");if(!r)return void(document.getElementById("file-table").innerHTML="<tr><td colspan='4'>No files found.</td></tr>");const d=r.innerText.split("\n").slice(3);let a=[];for(const t of d){const e=t.match(/(\S+)\s+(\d{2})-(\w{3})-(\d{4})\s+(\d{2}):(\d{2})\s+([\d.]+\w?)/);if(!e)continue;const[n,o,r,d,i,c,s,l]=e,u={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};if(void 0===o||void 0===l||void 0===d)continue;const m=u[d];if(void 0===m)continue;const f=new Date(Number(i),m,Number(r),Number(c),Number(s));a.push({name:o,size:l,date:f})}a.sort((t,e)=>e.date.getTime()-t.date.getTime());const i=document.querySelector("#file-table tbody");a.forEach(n=>{const o=document.createElement("tr"),r=t=>t.toString().padStart(2,"0"),d=n.date,a=`${r(d.getHours())}:${r(d.getMinutes())} ${r(d.getDate())}/${r(d.getMonth()+1)}-${d.getFullYear()}`,c=String(n.name),s=n.name.split(".").pop()?.toLowerCase()??"",l=e.includes(s)?`<a href="${t+encodeURIComponent(c)}" target="_blank"><button>View</button></a>`:"";o.innerHTML=`\n                <td>${n.name}</td>\n                <td>${a}</td>\n                <td>${n.size}B</td>\n                <td>\n                    <div class="button-group">\n                    ${l}\n                    <a href="${t+encodeURIComponent(c)}" download><button>Download</button></a>\n                    </div>\n                </td>\n            `,i.appendChild(o)})}catch(t){console.error("Error loading file list:",t);const e=document.querySelector("#file-table tbody"),n=t instanceof Error?t.message:String(t);e&&(e.innerHTML=`<tr><td colspan="4">Error: ${n}</td></tr>`)}}();